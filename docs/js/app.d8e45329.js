(function(t){function e(e){for(var a,s,r=e[0],c=e[1],l=e[2],p=0,f=[];p<r.length;p++)s=r[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},o={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("3b18");var a,o=n("f64c"),i=(n("fbd6"),n("160c")),s=(n("0032"),n("e32c")),r=(n("de6a"),n("9a63")),c=(n("5704"),n("b558")),l=(n("438c"),n("fbdf")),u=(n("2ef0"),n("9839")),p=(n("6ba6"),n("5efb")),f=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},h=[],m=(n("5c0b"),n("2877")),v={},g=Object(m["a"])(v,d,h,!1,null,null,null),b=g.exports,y=(n("6d37"),n("8c4f")),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("p",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._v("大声朗读")]),n("p",{staticStyle:{"margin-bottom":"30px",color:"#999"}},[t._v(" 基于微软edge浏览器大声朗读功能开发的pwa应用 ")]),n("a-textarea",{staticClass:"a-textarea",attrs:{placeholder:"输入需要朗读的文字",value:t.inputText,rows:10},on:{input:t.onInput}}),n("p",{staticClass:"text-lf pb5 fweight-bold letter2 pl5 mt30"},[t._v("选择语音")]),n("a-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("a-col",{attrs:{span:18}},[n("a-select",{staticStyle:{width:"100%"},attrs:{"default-value":t.defaultSelect},on:{select:t.onSelect}},t._l(t.voices,(function(e,a){return n("a-select-option",{key:a},[t._v(" "+t._s(e.displayName)+" ")])})),1)],1),n("a-col",{attrs:{span:5}},[n("a-button",{attrs:{type:"primary"},on:{click:t.onClick}},[t._v("播放")])],1)],1),n("a-row",{staticClass:"pb5 pt10 mt20",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("a-col",{attrs:{span:24}},[n("div",{staticClass:"text-lf"},[n("span",{staticClass:"fweight-bold letter2 pl5"},[t._v("播放速度(rate)")]),n("span",{staticClass:"letter2 pl10",staticStyle:{color:"#999","font-size":"12px"}},[t._v(t._s(t.rateValue)+" 倍速")])]),n("div",{staticStyle:{"padding-left":"10px"},attrs:{"touch-action":"none"}},[n("a-slider",{attrs:{marks:t.rateMarks,step:.25,min:t.minRate,max:t.maxRate,included:!1,"default-value":t.rateValue},on:{change:t.onRateSlider}})],1)])],1),n("a-row",{staticClass:"pb5 pt20",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("a-col",{attrs:{span:24}},[n("div",{staticClass:"text-lf"},[n("span",{staticClass:"text-lf fweight-bold letter2 pl5"},[t._v("音调调整(pitch)")]),n("span",{staticClass:"letter2 pl10",staticStyle:{color:"#999","font-size":"12px"}},[t._v("当前"+t._s(t.pitchValue))])]),n("div",{staticStyle:{"padding-left":"10px"},attrs:{"touch-action":"none"}},[n("a-slider",{attrs:{marks:t.pitchMarks,step:.1,min:t.minPitch,max:t.maxPitch,included:!1,"default-value":t.pitchValue},on:{change:t.onPitchSlider}})],1)])],1),n("a-row",{staticClass:"pb10",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("a-col",{staticClass:"flex-wrap"},[n("p",{staticClass:"text-lf fweight-bold letter2 pl5 pb10",staticStyle:{"margin-right":"10px"}},[t._v("开启录音(record)")]),n("a-switch",{attrs:{checked:t.recordStatus},on:{change:t.onChange}})],1)],1),n("p",{staticClass:"link",on:{click:t.push}},[t._v("Github中查看")])],1)},x=[],S=(n("d3b7"),n("d81d"),n("2ca0"),n("b0c0"),n("5319"),n("ac1f"),n("466d"),window.speechSynthesis);navigator.serviceWorker&&navigator.serviceWorker.register("./sw.js").then((function(t){console.log("⛳️ -> sw注册成功!")}),(function(t){console.log(t)}));var _={name:"Home",components:{},data:function(){return{voices:[],value:"",value1:20,disabled:!1,defaultSelect:"选择朗读语言类型",speedSelect:"x1",inputText:"",selectIdx:0,rateValue:1,minRate:.5,maxRate:2,rateMarks:{.5:"缓慢",.75:"",1:"常规",1.25:"",1.5:"",1.75:"",2:"快"},pitchValue:1,minPitch:0,maxPitch:2,pitchMarks:{0:"",2:""},recordStatus:!1}},created:function(){},beforeMount:function(){},mounted:function(){this.populateVoiceList(),this.checkBrowser()},updated:function(){},beforeDestroy:function(){},methods:{populateVoiceList:function(){var t=this;"undefined"!==typeof speechSynthesis&&new Promise((function(t,e){setTimeout((function(){var e=speechSynthesis.getVoices();t(e)}),0)})).then((function(e){t.voices=e.map((function(t){return t.name.startsWith("Google ")?t.displayName=t.name.replace(/^Google /,""):t.name.startsWith("Microsoft")?(t.name.match(/^Microsoft (.+) Online.*- (.+)/),t.displayName=t.name):t.displayName=t.name,t})).sort((function(t,e){return t.displayName.localeCompare(e.displayName)}))}))},test:function(){S.resume(),this.$message.success("继续播放")},onClick:function(){(this.inputText||0!=this.inputText.length)&&this.speak()},onInput:function(t){this.inputText=t.target.value},onSelect:function(t){this.selectIdx=t},speak:function(){var t=this.voices,e=this.selectIdx,n=this.inputText,o=this.rateValue,i=this.pitchValue;a=new SpeechSynthesisUtterance(n),a.onend=function(t){console.log("SpeechSynthesisUtterance.onend")},a.onerror=function(t){console.error("SpeechSynthesisUtterance.onerror")},a.voice=t[e],a.pitch=i,a.rate=o,S.speak(a)},onChange:function(t){console.log("change: ",t),this.recordStatus||this.initRecorder(),this.recordStatus=!this.recordStatus},onAfterChange:function(t){console.log("afterChange: ",t)},onRateSlider:function(t){this.rateValue=t},onPitchSlider:function(t){this.pitchValue=t},checkBrowser:function(){},push:function(){window.location.href="https://github.com/guozhigq/ReadAloud"},initRecorder:function(){var t=this,e=window.constraints={audio:!0,video:!1};navigator.mediaDevices.getUserMedia(e).then((function(e){t.recorderFn(e),console.log(e)})).catch((function(e){console.log(e),t.recordStatus=!1,t.$message.warning("🙅🏻‍♀️ 拒绝录音权限")}))},recorderFn:function(t){var e=new MediaRecorder(t);e.start(),console.log("录音中...")}}},k=_,C=(n("ba57"),Object(m["a"])(k,w,x,!1,null,"1b3a970e",null)),j=C.exports;f["a"].use(y["a"]);var O=[{path:"/",name:"Home",component:j}],P=new y["a"]({routes:O,mode:"hash"});f["a"].config.productionTip=!1,f["a"].use(p["a"]),f["a"].use(u["a"]),f["a"].use(l["a"]),f["a"].use(c["a"]),f["a"].use(r["a"]),f["a"].use(s["a"]),f["a"].use(i["a"]),f["a"].prototype.$message=o["a"],new f["a"]({router:P,render:function(t){return t(b)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"6d37":function(t,e,n){},"9c0c":function(t,e,n){},ba57:function(t,e,n){"use strict";n("df99")},df99:function(t,e,n){}});
//# sourceMappingURL=app.d8e45329.js.map